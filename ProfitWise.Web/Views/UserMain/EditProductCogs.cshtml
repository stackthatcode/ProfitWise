@model ProfitWise.Web.Models.UserModelBase

@{
    Model.PageTitle = "Edit Cost of Goods";
}


<style>
    table.table td {
        height: 70px !important;
        font-size: 14px;
        vertical-align: middle !important;
    }

    table.table th {
        font-size: 14px !important;
        font-weight: 700;
        color: #777;
        height: 60px;
    }

    #product-cogs tr td:nth-child(1) {
        width: 15%;
    }

    #product-cogs tr td:nth-child(2) {
        width: 25%;
    }

    #product-cogs tr td:nth-child(3) {
        width: 14%;
    }

    #product-cogs tr td:nth-child(4) {
        width: 13%;
        text-align: center;
    }

    #product-cogs tr td:nth-child(5) {
        width: 13%;
        text-align: center;
    }

    #product-cogs tr td:nth-child(6) {
        width: 10%;
        text-align: center;
    }

    #product-cogs tr td:nth-child(7) {
        width: 10%;
        text-align: center;
    }

    input[type='text'] {
        width: 100px;
    }
</style>

<!-- KnockoutJS Templates -->
@Html.Partial("_PagingWidget")
@Html.Partial("_ProductFilterWidget")
@Html.Partial("_PageFooter")

<script type="text/html" id="Page-Header">
    <div id="fixed-positioning-container">
        <div id="top-header-sleeve" style="height: 210px;">

            <!-- This element will track with the scrollbar via JavaScript wiring to onscroll-->
            <div id="top-header">

                <div class="row" style="padding-left: 25px; padding-right: 25px;">

                    <!-- Filtering Widget -->
                    <div class="col-md-5" style="padding-top: 20px;">
                        <div class="pull-left;" 
                             data-bind="template: { name: 'Product-Filter', afterRender: ProfitWiseWidgets.productFilterWidgetInitialize }">
                        </div>
                    </div>

                    <!-- Paging Widget -->
                    <div class="col-md-7">
                        <div style="min-width: 500px;" 
                             data-bind="template: { name: 'Paging-Widget', afterRender: ProfitWiseWidgets.pagingWidgetInitialize }">
                        </div>
                    </div>
                </div>

                <div class="visible-md visible-lg row header-horz-padding">
                    <!-- Create Purchase Order Button -->
                    <div class="col-xs-12" style="text-align: right;">
                        <a style="width: 225px;" class="form-control btn btn-default" href="#"><i class="glyphicon glyphicon-copy"></i> &nbsp;&nbsp;Create Purchase Order</a>
                    </div>
                </div>

                <!-- Table Headings - note: measured table rendering height is 61px, top border offset is 20px; -->
                <div class="header-horz-padding" style="position: absolute; top: 129px;">
                    <table class="table" id="heading">
                        <thead>
                            <tr>
                                <th>Vendor <i class="glyphicon glyphicon-triangle-bottom"></i></th>
                                <th>Product <i class="glyphicon glyphicon-triangle-bottom"></i></th>
                                <th>Inventory <i class="glyphicon glyphicon-triangle-bottom"></i></th>
                                <th style="text-align: center;">Price <i class="glyphicon glyphicon-triangle-bottom"></i></th>
                                <th style="text-align: center;">CoGS</th>
                                <th style="text-align: center;">Stocked Directly</th>
                                <th style="text-align: center;">Exclude</th>
                            </tr>
                        </thead>
                    </table>
                </div>
            </div>
        </div>
    </div>
</script>

<script type="text/html" id="Main-Template">
    <div data-bind="template: { name: 'Page-Header'}"></div>

    <div class="container" style="margin: 0; width: 100%; padding-left: 20px; padding-right: 20px;">
        <div style="position: relative; min-width: 800px; margin-top: 209px; background-color: #FFF; padding-left: 25px; padding-right: 25px;">
            <table id="product-cogs" class="table" style="width: 100%; height: 100%; margin: 0;">
                <tbody>
                    <tr>
                        <td>3D Universe</td>
                        <td><a href="CoGSProduct.html">3D Universe PLA 2.85 mm</a></td>
                        <td>175 in stock<br />(12 variants)</td>
                        <td>$34</td>
                        <td><a href="#" data-bind="click: LaunchBulkEditPopup">$18</a></td>
                        <td><input type="checkbox" /></td>
                        <td><input type="checkbox" /></td>
                    </tr>

                    <tr>
                        <td>3D Universe</td>
                        <td><a href="CoGSProduct.html">3D Universe ABS 2.85 mm</a></td>
                        <td>175 in stock<br />(12 variants)</td>
                        <td>$3,400.00 to $3,799.99</td>
                        <td><a class="EditCogsPopUpLauncher" href="#"><strong>$1,800.00</strong> to <strong>$2,400.00</strong></a><br /><span style="font-size: 0.8em">(Averages)</span></td>
                        <td><a href="CoGSProduct.html">Some</a> </td>
                        <td><input type="checkbox" /></td>
                    </tr>

                    <tr>
                        <td>3D Universe</td>
                        <td><a href="CoGSProduct.html">3D Universe PLA 1.75 mm</a></td>
                        <td>175 in stock for 12 variants</td>
                        <td>$34</td>
                        <td><a href="#">$18</a></td>
                        <td><input type="checkbox" /></td>
                        <td><input type="checkbox" /></td>
                    </tr>

                    <tr>
                        <td>3D Universe</td>
                        <td><a href="CoGSProduct.html">3D Universe ABS 1.75 mm</a></td>
                        <td>78 in stock for 12 variants</td>
                        <td>$34</td>
                        <td><a href="#">$18</a></td>
                        <td><input type="checkbox" /></td>
                        <td><a href="CoGSProduct.html">Some</a></td>
                    </tr>

                    <tr>
                        <td>ColorFabb</td>
                        <td><a href="#">ColorFabb PLA/PHA 2.85 mm</a></td>
                        <td>175 in stock for 12 variants</td>
                        <td>$34</td>
                        <td><a href="#">$18</a></td>
                        <td><input type="checkbox" /></td>
                        <td><input type="checkbox" /></td>
                    </tr>

                    <tr>
                        <td>ColorFabb</td>
                        <td><a href="#">ColorFabb PLA/PHA 1.75 mm</a></td>
                        <td>200 in stock for 16 variants</td>
                        <td>$34</td>
                        <td><a href="#">$18 to $22</a></td>
                        <td><input type="checkbox" /></td>
                        <td><input type="checkbox" /></td>
                    </tr>

                    <tr>
                        <td>ColorFabb</td>
                        <td><a href="#">ColorFabb XT 2.85 mm</a></td>
                        <td>88 in stock for 3 variants</td>
                        <td>$34</td>
                        <td><a href="#">$18 to $22</a></td>
                        <td><input type="checkbox" /></td>
                        <td><input type="checkbox" /></td>
                    </tr>

                    <tr>
                        <td>ColorFabb</td>
                        <td><a href="#">ColorFabb XT 1.75 mm</a></td>
                        <td>82 in stock for 3 variants</td>
                        <td>$34</td>
                        <td><a href="#">$15 to $20</a></td>
                        <td><input type="checkbox" /></td>
                        <td><input type="checkbox" /></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div data-bind="template: { name: 'Page-Footer'}"></div>
</script>

<!-- KnockoutJS Root View --><!-- data: $root.EndlessGlider, -->
<div data-bind="template: { name: 'Main-Template' }">
</div>


<script>
    var ProfitWise = ProfitWise || {};

    ProfitWise.EditCogsModel = function () {
        var self = this;
        self.Test = ko.observable("123 Can You See?");
        
        self.LaunchBulkEditPopup = function() {
            ProfitWiseFunctions.launchBulkEditPopUp();
        };
    };

    $(document)
        .ready(function () {
            ProfitWiseFunctions.tableHeaderWidthInit("table#product-cogs tbody tr td", "table#heading thead tr th");
            ProfitWiseFunctions.fixedHeaderScrollingInit("#top-header");

            var model = new ProfitWise.EditCogsModel();
            ko.applyBindings(model);
        });
</script>

